/* ChessPiece component styles */

.piece {
  font-size: calc(var(--square-size) * 0.7);
  line-height: 1;
  display: inline-block;
  transition: all var(--transition-medium);
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  pointer-events: none;
  position: relative;
  z-index: 2;
}

/* Color-specific styles */
.white {
  color: #ffffff;
  text-shadow: 
    1px 1px 0 #000000,
    -1px -1px 0 #000000,
    1px -1px 0 #000000,
    -1px 1px 0 #000000,
    0 0 2px #000000;
}

.black {
  color: #000000;
  text-shadow: 
    1px 1px 0 #ffffff,
    -1px -1px 0 #ffffff,
    1px -1px 0 #ffffff,
    -1px 1px 0 #ffffff,
    0 0 2px #ffffff;
}

/* Piece-specific adjustments */
.king {
  font-size: calc(var(--square-size) * 0.75);
}

.queen {
  font-size: calc(var(--square-size) * 0.72);
}

.rook {
  font-size: calc(var(--square-size) * 0.68);
}

.bishop {
  font-size: calc(var(--square-size) * 0.7);
}

.knight {
  font-size: calc(var(--square-size) * 0.7);
}

.pawn {
  font-size: calc(var(--square-size) * 0.65);
}

/* Selection state */
.selected {
  transform: scale(1.05);
  filter: brightness(1.2);
  z-index: 5;
  transition: all var(--transition-fast);
}

/* Dragging state (for future drag & drop) */
.dragging {
  transform: scale(1.1);
  z-index: 100;
  opacity: 0.8;
  cursor: grabbing;
}

/* Animation states */
.animating {
  z-index: 10;
}

.animateMove {
  animation: pieceMove 0.3s ease-out;
}

.animateCapture {
  animation: pieceCapture 0.4s ease-out;
}

.animateAppear {
  animation: pieceAppear 0.3s ease-out;
}

.animateDisappear {
  animation: pieceDisappear 0.3s ease-out;
}

/* Keyframe animations */
@keyframes pieceMove {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.15);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes pieceCapture {
  0% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
  50% {
    transform: scale(1.2) rotate(10deg);
    opacity: 0.8;
  }
  100% {
    transform: scale(0.8) rotate(0deg);
    opacity: 1;
  }
}

@keyframes pieceAppear {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  50% {
    transform: scale(1.2);
    opacity: 0.8;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes pieceDisappear {
  0% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.2);
    opacity: 0.5;
  }
  100% {
    transform: scale(0);
    opacity: 0;
  }
}

/* Hover effects for interactive pieces */
.piece:hover {
  filter: brightness(1.1);
}

/* Responsive font sizing */
@media (max-width: 768px) {
  .piece {
    font-size: calc(var(--square-size) * 0.65);
  }
  
  .king {
    font-size: calc(var(--square-size) * 0.7);
  }
  
  .queen {
    font-size: calc(var(--square-size) * 0.67);
  }
  
  .rook {
    font-size: calc(var(--square-size) * 0.63);
  }
  
  .pawn {
    font-size: calc(var(--square-size) * 0.6);
  }
}

@media (max-width: 480px) {
  .piece {
    font-size: calc(var(--square-size) * 0.6);
  }
  
  .king {
    font-size: calc(var(--square-size) * 0.65);
  }
  
  .queen {
    font-size: calc(var(--square-size) * 0.62);
  }
  
  .rook {
    font-size: calc(var(--square-size) * 0.58);
  }
  
  .pawn {
    font-size: calc(var(--square-size) * 0.55);
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  .white {
    color: #ffffff;
    text-shadow: 
      2px 2px 0 #000000,
      -2px -2px 0 #000000,
      2px -2px 0 #000000,
      -2px 2px 0 #000000;
  }
  
  .black {
    color: #000000;
    text-shadow: 
      2px 2px 0 #ffffff,
      -2px -2px 0 #ffffff,
      2px -2px 0 #ffffff,
      -2px 2px 0 #ffffff;
  }
  
  .selected {
    outline: 3px solid #ffff00;
    outline-offset: 2px;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .piece {
    transition: none;
  }
  
  .animating,
  .animateMove,
  .animateCapture,
  .animateAppear,
  .animateDisappear {
    animation: none;
    transform: none;
  }
  
  .selected {
    transform: none;
    filter: brightness(1.3);
  }
  
  .dragging {
    transform: none;
  }
}

/* Print styles */
@media print {
  .piece {
    color: #000000 !important;
    text-shadow: none !important;
    filter: none !important;
    transform: none !important;
  }
}